---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "packetfabric_cloud_router_connection_google Resource - terraform-provider-packetfabric"
subcategory: ""
description: |-
  
---

# packetfabric_cloud_router_connection_google (Resource)

A connection from your cloud router to your Google Cloud Platform environment. For more information, see [Cloud Router in the PacketFabric documentation](https://docs.packetfabric.com/cr/).

For examples on how to use a cloud's Terraform provider alongside PacketFabric, see [examples/use-cases](https://github.com/PacketFabric/terraform-provider-packetfabric/tree/main/examples/use-cases).

## Example Usage

```terraform
resource "packetfabric_cloud_router" "cr1" {
  provider = packetfabric
  asn      = 4556
  name     = "hello world"
  capacity = "10Gbps"
  regions  = ["US", "UK"]
  labels   = ["terraform", "dev"]
}

# Example PacketFabric side provisioning only
resource "packetfabric_cloud_router_connection_google" "crc2" {
  provider                    = packetfabric
  description                 = "hello world"
  circuit_id                  = packetfabric_cloud_router.cr1.id
  google_pairing_key          = var.pf_crc_google_pairing_key
  google_vlan_attachment_name = var.pf_crc_google_vlan_attachment_name
  pop                         = "PDX2"
  speed                       = "1Gbps"
  maybe_nat                   = false
  labels                      = ["terraform", "dev"]
}


# Example PacketFabric side + Google side provisioning
resource "packetfabric_cloud_provider_credential_google" "google_creds1" {
  provider               = packetfabric
  description            = "Google Staging Environement"
  google_service_account = var.google_service_account # or use env var GOOGLE_CREDENTIALS
}

resource "packetfabric_cloud_router_connection_google" "crc2" {
  provider                    = packetfabric
  description                 = "hello world"
  circuit_id                  = packetfabric_cloud_router.cr1.id
  pop                         = "PDX2"
  speed                       = "1Gbps"
  maybe_nat                   = false
  cloud_settings {
    credentials_uuid                = packetfabric_cloud_provider_credential_google.google_creds1.id
    google_region                   = "us-west1"
    google_vlan_attachment_name     = "my-google-vlan-attachment-primary"
    google_cloud_router_name        = "my-google-cloud-router"
    google_vpc_name                 = "my-google-vpc"
    google_edge_availability_domain = 1 # primary
    bgp_settings {
      md5 = "changeme"
      prefixes {
        prefix = var.pf_crbp_pfx00
        type   = "out" # Allowed Prefixes to Cloud
      }
      prefixes {
        prefix = var.pf_crbp_pfx03
        type   = "in" # Allowed Prefixes from Cloud
      }
    }
  }
  labels = ["terraform", "dev"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_uuid` (String) The UUID for the billing account that should be billed. Can also be set with the PF_ACCOUNT_ID environment variable.
- `circuit_id` (String) Circuit ID of the target cloud router. This starts with "PF-L3-CUST-".
- `description` (String) A brief description of this connection.
- `pop` (String) The POP in which you want to provision the connection.
- `speed` (String) The desired speed of the new connection.

	Enum: ["50Mbps" "100Mbps" "200Mbps" "300Mbps" "400Mbps" "500Mbps" "1Gbps" "2Gbps" "5Gbps" "10Gbps"]

### Optional

- `bgp_settings_uuid` (String) BGP session ID generated when the cloud-side connection is provisioned by PacketFabric.
- `cloud_settings` (Block List, Max: 1) Provision the cloud side of the connection with PacketFabric. (see [below for nested schema](#nestedblock--cloud_settings))
- `google_pairing_key` (String) The Google pairing key to use for this connection. This is provided when you create the VLAN attachment from the Google Cloud console. Required if not using cloud_settings.
- `google_vlan_attachment_name` (String) The name you used for your VLAN attachment in Google.
- `labels` (List of String) Label value linked to an object.
- `maybe_dnat` (Boolean) Set this to true if you intend to use DNAT on this connection. Defaults: false
- `maybe_nat` (Boolean) Set this to true if you intend to use NAT on this connection. Defaults: false
- `po_number` (String) Purchase order number or identifier of a service.
- `published_quote_line_uuid` (String) UUID of the published quote line with which this connection should be associated.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--cloud_settings"></a>
### Nested Schema for `cloud_settings`

Required:

- `bgp_settings` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--cloud_settings--bgp_settings))
- `credentials_uuid` (String) The UUID of the credentials to be used with this connection.
- `google_cloud_router_name` (String) The Google Cloud Router Attachment name. No whitespace allowed.
- `google_region` (String) The Google region that should be used.

	Enum: Enum: ["asia-east1", "asia-east2", "asia-northeast1", "asia-northeast2", "asia-northeast3", "asia-south1", "asia-southeast1", "asia-southeast2", "australia-southeast1", "europe-north1", "europe-west1", "europe-west2", "europe-west3", "europe-west4", "europe-west6", "northamerica-northeast1", "southamerica-east1", "us-central1", "us-east1", "us-east4", "us-west1", "us-west2", "us-west3", "us-west4"]
- `google_vlan_attachment_name` (String) The Google Interconnect Attachment name. No whitespace allowed.

Optional:

- `google_edge_availability_domain` (Number) The Google Edge Availability Domain. Must be 1 or 2.

	Enum: ["1", "2"] Defaults: 1
- `google_pairing_key` (String) The Google pairing key to use for this connection. This is provided when you create the VLAN attachment from the Google Cloud console. Required if not using cloud_settings.
- `google_project_id` (String) The Google Project Id to be used. If not present the project id of the credentials will be used.
- `google_vpc_name` (String) The Google VPC name. Required if a new router needs to be created.
- `mtu` (Number) Maximum Transmission Unit this port supports (size of the largest supported PDU).

	Enum: ["1500", "1440"] Defaults: 1500

<a id="nestedblock--cloud_settings--bgp_settings"></a>
### Nested Schema for `cloud_settings.bgp_settings`

Required:

- `prefixes` (Block Set, Min: 1) The list of BGP prefixes (see [below for nested schema](#nestedblock--cloud_settings--bgp_settings--prefixes))

Optional:

- `as_prepend` (Number) The BGP prepend value for this instance. It is used when type = out.

	Available range is 1 through 5.
- `bfd_interval` (Number) If you are using BFD, this is the interval (in milliseconds) at which to send test packets to peers.

	Available range is 3 through 30000.
- `bfd_multiplier` (Number) If you are using BFD, this is the number of consecutive packets that can be lost before BFD considers a peer down and shuts down BGP.

	Available range is 2 through 16.
- `disabled` (Boolean) Whether this BGP session is disabled. Defaults: false
- `google_keepalive_interval` (Number) The Keepalive Interval. Must be between 20 and 60. Defaults: 20
- `local_preference` (Number) The local preference for this instance. When the same route is received in multiple locations, those with a higher local preference value are preferred by the cloud router. It is used when type = in.

	Available range is 1 through 4294967295.
- `md5` (String) The MD5 value of the authenticated BGP sessions. Required for AWS.
- `med` (Number) The Multi-Exit Discriminator of this instance. When the same route is advertised in multiple locations, those with a lower MED are preferred by the peer AS. It is used when type = out.

	Available range is 1 through 4294967295.
- `nat` (Block Set, Max: 1) Translate the source or destination IP address. (see [below for nested schema](#nestedblock--cloud_settings--bgp_settings--nat))
- `orlonger` (Boolean) Whether to use exact match or longer for all prefixes. Defaults: false
- `remote_asn` (Number) The Google ASN of this connection. Must be 16550, between 64512 and 65534, or between 4200000000 and 4294967294.Defaults: 16550

<a id="nestedblock--cloud_settings--bgp_settings--prefixes"></a>
### Nested Schema for `cloud_settings.bgp_settings.prefixes`

Required:

- `prefix` (String) The actual IP Prefix of this instance.
- `type` (String) Whether this prefix is in (Allowed Prefixes from Cloud) or out (Allowed Prefixes to Cloud).
		Enum: in, out.

Optional:

- `as_prepend` (Number) The BGP prepend value of this prefix. It is used when type = out.

	Available range is 1 through 5.
- `local_preference` (Number) The local_preference of this prefix. It is used when type = in.

	Available range is 1 through 4294967295.
- `match_type` (String) The match type of this prefix.

	Enum: `"exact"` `"orlonger"` Defaults: exact
- `med` (Number) The MED of this prefix. It is used when type = out.

	Available range is 1 through 4294967295.


<a id="nestedblock--cloud_settings--bgp_settings--nat"></a>
### Nested Schema for `cloud_settings.bgp_settings.nat`

Optional:

- `direction` (String) If using NAT overload, the direction of the NAT connection. 
		Enum: output, input. Defaults: output
- `dnat_mappings` (Block Set) Translate the destination IP address. (see [below for nested schema](#nestedblock--cloud_settings--bgp_settings--nat--dnat_mappings))
- `nat_type` (String) The NAT type of the NAT connection, source NAT (overload) or destination NAT (inline_dnat). 
		Enum: overload, inline_dnat. Defaults: overload
- `pool_prefixes` (List of String) If using NAT overload, all prefixes that are NATed on this connection will be translated to the pool prefix address.

	Example: 10.0.0.0/32
- `pre_nat_sources` (List of String) If using NAT overload, this is the prefixes from the cloud that you want to associate with the NAT pool.

	Example: 10.0.0.0/24

<a id="nestedblock--cloud_settings--bgp_settings--nat--dnat_mappings"></a>
### Nested Schema for `cloud_settings.bgp_settings.nat.dnat_mappings`

Required:

- `private_prefix` (String) The private prefix of this DNAT mapping.
- `public_prefix` (String) The public prefix of this DNAT mapping.

Optional:

- `conditional_prefix` (String) The conditional prefix prefix of this DNAT mapping.





<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)




## Import

->**Note:** Import is not supported if `cloud_settings` are used.

Import a Cloud Router Connection using its corresponding circuit ID and the ID of the Cloud Router it is associated with, in the format `<cloud router ID>:<cloud router connection ID>`.

```bash
terraform import packetfabric_cloud_router_connection_google.crc PF-L3-CUST-1700239:PF-L3-CON-2980512
```