---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "packetfabric_cs_aws_hosted_connection Resource - terraform-provider-packetfabric"
subcategory: ""
description: |-
  
---

# packetfabric_cs_aws_hosted_connection (Resource)

A hosted cloud connection to your AWS environment. For more information, see [Cloud Connections in the PacketFabric documentation](https://docs.packetfabric.com/cloud/).

For examples on how to use a cloud's Terraform provider alongside PacketFabric, see [examples/use-cases](https://github.com/PacketFabric/terraform-provider-packetfabric/tree/main/examples/use-cases).

## Example Usage

```terraform
# Example PacketFabric side provisioning only
resource "packetfabric_cs_aws_hosted_connection" "cs_conn1_hosted_aws" {
  provider    = packetfabric
  description = "hello world"
  port        = packetfabric_port.port_1.id
  speed       = "10Gbps"
  pop         = "BOS1"
  vlan        = 102
  zone        = "A"
  labels      = ["terraform", "dev"]
}
resource "aws_dx_connection_confirmation" "confirmation" {
  provider      = aws
  connection_id = packetfabric_cs_aws_hosted_connection.cs_conn1_hosted_aws.cloud_provider_connection_id
}

# Example PacketFabric side + AWS side provisioning
resource "packetfabric_cloud_provider_credential_aws" "aws_creds1" {
  provider       = packetfabric
  description    = "AWS Staging Environement"
  aws_access_key = var.pf_aws_key    # or use env var PF_AWS_ACCESS_KEY_ID
  aws_secret_key = var.pf_aws_secret # or use env var PF_AWS_SECRET_ACCESS_KEY
}

resource "packetfabric_cs_aws_hosted_connection" "cs_conn1_hosted_aws_cloud_side" {
  provider    = packetfabric
  description = "hello world"
  port        = packetfabric_port.port_1.id
  speed       = "10Gbps"
  pop         = "BOS1"
  vlan        = 102
  zone        = "A"
  cloud_settings {
    credentials_uuid = packetfabric_cloud_provider_credential_aws.aws_creds1.id
    aws_region       = "us-east-1"
    mtu              = 1500
    aws_vif_type     = "private" # or transit
    bgp_settings {
      customer_asn   = 64513
      address_family = "ipv4"
    }
    aws_gateways {
      type = "directconnect"
      id   = "760f047b-53ce-4a9d-9ed6-6fac5ca2fa81"
    }
    aws_gateways { #  Private VIF
      type   = "private"
      id     = "vgw-066eb6dcd07dcbb65"
      vpc_id = "vpc-bea401c4"
    }
    # aws_gateways { # Transit VIF
    #   type = "transit"
    #   id   = "tgw-0b7a1390af74b9728"
    #   vpc_id = "vpc-bea401c4"
    #   subnet_ids = [
    #     "subnet-0c222c8047660ca13",
    #     "subnet-03838a8ea2270c40a"
    #   ]
    # }
  }
  labels = ["terraform", "dev"]
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_uuid` (String) The UUID for the billing account that should be billed. Can also be set with the PF_ACCOUNT_ID environment variable.
- `aws_account_id` (String) The AWS account ID to connect with. Must be 12 characters long. Can also be set with the PF_AWS_ACCOUNT_ID environment variable.
- `description` (String) A brief description of this connection.
- `pop` (String) The POP in which the hosted connection should be provisioned (the cloud on-ramp).
- `port` (String) The circuit ID of the PacketFabric port you want to connect to AWS. This starts with "PF-AP-".
- `speed` (String) The speed of the new connection.

	Available: 50Mbps 100Mbps 200Mbps 300Mbps 400Mbps 500Mbps 1Gbps 2Gbps 5Gbps 10Gbps
- `vlan` (Number) Valid VLAN range is from 4-4094, inclusive.

### Optional

- `cloud_settings` (Block List, Max: 1) Provision the Cloud side of the connection with PacketFabric. (see [below for nested schema](#nestedblock--cloud_settings))
- `labels` (List of String) Label value linked to an object.
- `po_number` (String) Purchase order number or identifier of a service.
- `src_svlan` (Number) Valid S-VLAN range is from 4-4094, inclusive.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `zone` (String) The desired zone of the new connection.

### Read-Only

- `cloud_provider_connection_id` (String) The cloud provider specific connection ID, eg. the Amazon connection ID of the cloud router connection.
		Example: dxcon-fgadaaa1
- `id` (String) The ID of this resource.
- `vlan_id_pf` (Number) PacketFabric VLAN ID.

<a id="nestedblock--cloud_settings"></a>
### Nested Schema for `cloud_settings`

Required:

- `aws_vif_type` (String) The type of VIF to use for this connection.
- `bgp_settings` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--cloud_settings--bgp_settings))
- `credentials_uuid` (String) The UUID of the credentials to be used with this connection.

Optional:

- `aws_gateways` (Block List, Max: 2) Only for Private or Transit VIF. (see [below for nested schema](#nestedblock--cloud_settings--aws_gateways))
- `aws_region` (String) The AWS region that should be used.
- `mtu` (Number) Maximum Transmission Unit this port supports (size of the largest supported PDU).

	Enum: ["1500", "9001"] Defaults: 1500

<a id="nestedblock--cloud_settings--bgp_settings"></a>
### Nested Schema for `cloud_settings.bgp_settings`

Required:

- `customer_asn` (Number) The customer ASN of this connection.

Optional:

- `address_family` (String) The address family that should be used. Defaults: ipv4
- `advertised_prefixes` (List of String) An array of prefixes that will be advertised. Required for public VIFs.
- `l3_address` (String) The prefix of the customer router. Required for public VIFs.
- `md5` (String) The MD5 value of the authenticated BGP sessions.
- `remote_address` (String) The prefix of the remote router. Required for public VIFs.


<a id="nestedblock--cloud_settings--aws_gateways"></a>
### Nested Schema for `cloud_settings.aws_gateways`

Required:

- `type` (String) The type of this AWS Gateway.

Optional:

- `allowed_prefixes` (List of String) An array of allowed prefixes. Required on the DirectConnect Gateway when the other Gateway is of type transit.
- `asn` (Number) The ASN of the AWS Gateway to be used.
- `id` (String) The ID of the AWS Gateway to be used.
- `name` (String) The name of the AWS Gateway, required if creating a new DirectConnect Gateway.
- `subnet_ids` (List of String) An array of subnet IDs to associate with this Gateway. Required for transit Gateways.
- `vpc_id` (String) The AWS VPC ID this Gateway should be associated with. Required for private and transit Gateways.



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)





## Import

Import an AWS hosted connection using its circuit ID.

```bash
terraform import packetfabric_cs_aws_hosted_connection.cs_conn1_hosted_aws PF-CC-WDC-NYC-1726496-PF
```

## Provisioning lead time

Please check availability at your chosen location before provisioning. 
If there are no hosted cloud connections available at the chosen location, provisioning can take up to two weeks.
