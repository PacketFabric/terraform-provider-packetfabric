---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "packetfabric_cs_azure_hosted_connection Resource - terraform-provider-packetfabric"
subcategory: ""
description: |-
  
---

# packetfabric_cs_azure_hosted_connection (Resource)

A hosted cloud connection to your Microsoft Azure environment. For more information, see [Cloud Connections in the PacketFabric documentation](https://docs.packetfabric.com/cloud/).

For examples on how to use a cloud's Terraform provider alongside PacketFabric, see [examples/use-cases](https://github.com/PacketFabric/terraform-provider-packetfabric/tree/main/examples/use-cases).

To retrieve the VLAN ID for establishing Azure peering via [`express_route_circuit_peering`](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/express_route_circuit_peering), utilize the [`packetfabric_cloud_router_connections (Data Source)`](https://registry.terraform.io/providers/PacketFabric/packetfabric/latest/docs/data-sources/packetfabric_cloud_router_connections) and loop through its output in a `locals` block. 

The code to do this is provided below:

```terraform
locals {
  cloud_connections = data.packetfabric_cloud_router_connections.current.cloud_connections[*]
  helper_map = { for val in local.cloud_connections :
  val["description"] => val }
  cc1 = local.helper_map["${var.pf_crc_description}-primary"]
}
output "cc1_vlan_private" {
  value = one(local.cc1.cloud_settings[*].vlan_id_private)
}
```

## Example Usage

```terraform
resource "packetfabric_cs_azure_hosted_connection" "cs_conn1_hosted_azure" {
  provider          = packetfabric
  description       = "hello world"
  azure_service_key = var.azure_service_key
  port              = packetfabric_port.port_1.id
  speed             = "10Gbps" # will be deprecated
  vlan_private      = 102
  vlan_microsoft    = 103
  labels            = sort(["terraform", "dev"])
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_uuid` (String) The UUID for the billing account that should be billed. Can also be set with the PF_ACCOUNT_ID environment variable.
- `azure_service_key` (String) The Service Key provided by Microsoft Azure when you created your ExpressRoute circuit.
- `description` (String) A brief description of this connection.
- `port` (String) The circuit ID of the PacketFabric port you wish to connect to Azure. This starts with "PF-AP-".
- `speed` (String) The peed of the new connection.

	Enum: ["50Mbps" "100Mbps" "200Mbps" "300Mbps" "400Mbps" "500Mbps" "1Gbps" "2Gbps" "5Gbps" "10Gbps"]

### Optional

- `labels` (List of String) Label value linked to an object.
- `po_number` (String) Purchase order number or identifier of a service.
- `src_svlan` (Number) Valid S-VLAN range is from 4-4094, inclusive.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `vlan_microsoft` (Number) The VLAN ID you are using for Microsoft peering. This is optional and is used to connect to Office 365.

	The VLAN ID must be unique within the circuit (not used for any other peerings).

	Valid VLAN range is from 4-4094, inclusive.
- `vlan_private` (Number) The VLAN ID you are using for private peering. You will use this when you configure peering in the Azure portal.

	The VLAN ID must be unique within the circuit (not used for any other peerings).

	Valid VLAN range is from 4-4094, inclusive.

	You must provide at least one VLAN (`vlan_microsoft`, `vlan_private`, or both).

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)




## Import

Import an Azure hosted connection using its circuit ID.

```bash
terraform import packetfabric_cs_azure_hosted_connection.cs_conn1_hosted_azure PF-CC-WDC-NYC-1726496-PF
```

