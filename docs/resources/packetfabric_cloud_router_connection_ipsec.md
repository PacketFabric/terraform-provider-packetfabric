---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "packetfabric_cloud_router_connection_ipsec Resource - terraform-provider-packetfabric"
subcategory: ""
description: |-
  
---

# packetfabric_cloud_router_connection_ipsec (Resource)

An IPsec VPN connection from your cloud router. For more information, see the following PacketFabric documentation:

* [Cloud Router](https://docs.packetfabric.com/cr/)
* [Site-to-Site VPN for Cloud Router](https://docs.packetfabric.com/cr/vpn/)
* [VPN Configuration](https://docs.packetfabric.com/cr/ref/vpn_devices/)

## Example Usage

```terraform
resource "packetfabric_cloud_router" "cr1" {
  provider = packetfabric
  asn      = 4556
  name     = "hello world"
  capacity = "10Gbps"
  regions  = ["US"]
  labels   = ["terraform", "dev"]
}

resource "packetfabric_cloud_router_connection_ipsec" "crc3" {
  provider                     = packetfabric
  description                  = "hello world"
  circuit_id                   = packetfabric_cloud_router.cr1.id
  pop                          = "SFO6"
  speed                        = "1Gbps"
  gateway_address              = "127.0.0.1"
  ike_version                  = 1
  phase1_authentication_method = "pre-shared-key"
  phase1_group                 = "group14"
  phase1_encryption_algo       = "3des-cbc"
  phase1_authentication_algo   = "sha-384"
  phase1_lifetime              = 10800
  phase2_pfs_group             = "group14"
  phase2_encryption_algo       = "3des-cbc"
  phase2_authentication_algo   = "hmac-sha-256-128"
  phase2_lifetime              = 28800
  shared_key                   = "superCoolKey"
  labels                       = ["terraform", "dev"]
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `circuit_id` (String) Circuit ID of the target cloud router. This starts with "PF-L3-CUST-".
- `description` (String) A brief description of this connection.
- `gateway_address` (String) The gateway address of your VPN device. Because VPNs traverse the public internet, this must be a public IP address owned by you.
- `ike_version` (Number) The Internet Key Exchange (IKE) version supported by your device. In most cases, this is v2 (v1 is deprecated).

	Enum: 1, 2.
- `phase1_authentication_algo` (String) The authentication algorithm to use during phase 1.

	Enum: "md5" "sha-256" "sha-384" "sha1"
- `phase1_authentication_method` (String) The authentication method to use during phase 1. For example, "pre-shared-key".
- `phase1_encryption_algo` (String) The encryption algorithm to use during phase 1.

	Enum: "3des-cbc" "aes-128-cbc" "aes-192-cbc" "aes-256-cbc" "des-cbc"
- `phase1_group` (String) Phase 1 is when the VPN peers are authenticated and we establish security associations (SAs) to protect IKE messaging between the two endpoints (which in this case is PacketFabric and your VPN device). This is also known as the IKE phase.

	The Phase 1 group is the Diffie-Hellman (DH) algorithm used to create a shared secret between the endpoints.

	Enum: "group1" "group14" "group15" "group16" "group19" "group2" "group20" "group24" "group5"
- `phase1_lifetime` (Number) The time in seconds before a tunnel will need to re-authenticate. The phase 1 lifetime should be equal to or longer than phase 2. This can be between 180 and 86400.
- `phase2_encryption_algo` (String) The encryption algorithm to use during phase 2.

	Enum: "3des-cbc" "aes-128-cbc" "aes-128-gcm" "aes-192-cbc" "aes-192-gcm" "aes-256-cbc" "aes-256-gcm" "des-cbc"
- `phase2_lifetime` (Number) The time in seconds before phase 2 expires and needs to reauthenticate. We recommend that the phase 2 lifetime is equal to or shorter than phase 1. This can be between 180 and 86400.
- `phase2_pfs_group` (String) Phase 2 is when SAs are further established to protect and encrypt IP traffic within the tunnel. This is also known as the IPsec phase.

	The PFS group is the Perfect Forward Secrecy group. This means that rather than using the keys from phase 1, new keys are generated per the selected Diffie-Hellman algorithm (same as those listed above).

	Enum: "group1" "group14" "group15" "group16" "group19" "group2" "group20" "group24" "group5"
- `pop` (String) The POP in which you want to provision the connection.
- `shared_key` (String) The pre-shared-key to use for authentication.
- `speed` (String) The desired speed of the new connection.

	Enum: ["50Mbps" "100Mbps" "200Mbps" "300Mbps" "400Mbps" "500Mbps" "1Gbps" "2Gbps"]

### Optional

- `account_uuid` (String) The UUID for the billing account that should be billed. Can also be set with the PF_ACCOUNT_ID environment variable.
- `labels` (Set of String) Label value linked to an object.
- `phase2_authentication_algo` (String) The authentication algorithm to use during phase 2. It cannot be null if phase2_encryption_algo is CBC. 

	Enum: "hmac-md5-96" "hmac-sha-256-128" "hmac-sha1-96"
- `po_number` (String) Purchase order number or identifier of a service.
- `published_quote_line_uuid` (String) UUID of the published quote line with which this connection should be associated.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `etl` (Number) Early Termination Liability (ETL) fees apply when terminating a service before its term ends. ETL is prorated to the remaining contract days.
- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)




## Import

Import a Cloud Router Connection using its corresponding circuit ID and the ID of the Cloud Router it is associated with, in the format `<cloud router ID>:<cloud router connection ID>`.

```bash
terraform import packetfabric_cloud_router_connection_ipsec.crc PF-L3-CUST-1700239:PF-L3-CON-2980512
```